"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6330],{8490:(z,p,e)=>{e.d(p,{u:()=>m});var r=e(4412),d=e(8141),v=e(6354),x=e(4572),M=e(6421),t=e(4438),u=e(1626);let m=(()=>{var g;class w{constructor(i){this.http=i,this.exercisesList$=new r.t([]),this.exercises$=new r.t([]),this.selectedList$=new r.t(null),this.sets$=new r.t([]),this.exercisesList$.next(JSON.parse(localStorage.getItem("exercisesList")||"[]")),localStorage.getItem("exercises")?this.exercises$.next(JSON.parse(localStorage.getItem("exercises"))):this.http.get("https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/dist/exercises.json").pipe((0,d.M)(a=>localStorage.setItem("exercises",JSON.stringify(a)))).subscribe(a=>this.exercises$.next(a)),localStorage.getItem("sets")&&this.sets$.next(JSON.parse(localStorage.getItem("sets")))}addToExercisesList(i){const a=this.exercisesList$.getValue();a.push(i),localStorage.setItem("exercisesList",JSON.stringify(a)),this.exercisesList$.next(a)}getExerciseList(i){var a;return null!==(a=this.exercisesList$.getValue().find(o=>o.id===i))&&void 0!==a?a:null}updateExercises(){const i=this.exercisesList$.getValue().map(a=>{const o=this.selectedList$.getValue();return a.id===(null==o?void 0:o.id)&&null!=o&&(a=o),a});localStorage.setItem("exercisesList",JSON.stringify(i)),this.exercisesList$.next(i)}getExercise(i){var a;return null!==(a=this.exercises$.getValue().find(o=>o.id===i))&&void 0!==a?a:null}getReps({exerciseId:i,listId:a}){return this.sets$.pipe((0,v.T)(o=>o.filter(s=>s.exerciseId===i&&s.listId===a)),(0,v.T)(o=>o.reduce((s,n)=>{const l=new Date(n.date).toISOString();return s[l]||(s[l]=[]),s[l].push(n),s},{})),(0,v.T)(o=>Object.keys(o).map(s=>({date:s,sets:o[s]})).map(({date:s,sets:n})=>({date:s,set:n[0]})).sort((s,n)=>new Date(n.date).getTime()-new Date(s.date).getTime())))}addReps({exerciseId:i,listId:a,reps:o,weight:s}){const n=this.sets$.getValue().find(c=>c.exerciseId===i&&c.listId===a&&new Date(c.date).toLocaleDateString()===(new Date).toLocaleDateString());if(!n){const c=[...this.sets$.getValue(),{listId:a,exerciseId:i,logs:[{reps:o,weight:s,date:new Date}],date:new Date,id:(0,M.A)()}];return this.sets$.next(c),void localStorage.setItem("sets",JSON.stringify(c))}const l=this.sets$.getValue().map(c=>(n.id===c.id&&c.logs.push({reps:o,weight:s,date:new Date}),c));this.sets$.next(l),localStorage.setItem("sets",JSON.stringify(l))}deleteExerciseFromList(i,a){const o=this.exercisesList$.getValue().map(s=>{var n;return s.id===a&&(s.exercises=null==s||null===(n=s.exercises)||void 0===n?void 0:n.filter(l=>l.id!==i)),s});localStorage.setItem("exercisesList",JSON.stringify(o)),this.exercisesList$.next(o),this.sets$.next(this.sets$.getValue().filter(s=>!(s.exerciseId===i&&s.listId===a))),localStorage.setItem("sets",JSON.stringify(this.sets$.getValue()))}getSummary(){return(0,x.z)([this.exercisesList$,this.sets$]).pipe((0,v.T)(([i,a])=>({exerciseCount:i.map(o=>{var s,n;return null!==(s=null===(n=o.exercises)||void 0===n?void 0:n.length)&&void 0!==s?s:0}).reduce((o,s)=>o+s,0),setCount:a.map(o=>o.logs.length).reduce((o,s)=>o+s,0),repCount:a.map(o=>o.logs.map(s=>{var n;return null!==(n=s.reps)&&void 0!==n?n:0}).reduce((s,n)=>s+n,0)).reduce((o,s)=>o+s,0)})))}}return(g=w).\u0275fac=function(i){return new(i||g)(t.KVO(u.Qq))},g.\u0275prov=t.jDH({token:g,factory:g.\u0275fac,providedIn:"root"}),w})()},8721:(z,p,e)=>{e.d(p,{a:()=>v});var r,v=function(o){Object.keys(o).forEach(function(s){x(s,o[s]);var n=s.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase();s!==n&&x(n,o[s])})},x=function(o,s){var n=function(){if(typeof window>"u")return new Map;if(!r){var o=window;o.Ionicons=o.Ionicons||{},r=o.Ionicons.map=o.Ionicons.map||new Map}return r}(),l=n.get(o);void 0===l?n.set(o,s):l!==s&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(o,'". Ensure that multiple icons are not mapped to the same icon name.'))}},6421:(z,p,e)=>{e.d(p,{A:()=>h});const d={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let v;const x=new Uint8Array(16);function M(){if(!v&&(v=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!v))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return v(x)}const t=[];for(let i=0;i<256;++i)t.push((i+256).toString(16).slice(1));const h=function w(i,a,o){if(d.randomUUID&&!a&&!i)return d.randomUUID();const s=(i=i||{}).random||(i.rng||M)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,a){o=o||0;for(let n=0;n<16;++n)a[o+n]=s[n];return a}return function u(i,a=0){return t[i[a+0]]+t[i[a+1]]+t[i[a+2]]+t[i[a+3]]+"-"+t[i[a+4]]+t[i[a+5]]+"-"+t[i[a+6]]+t[i[a+7]]+"-"+t[i[a+8]]+t[i[a+9]]+"-"+t[i[a+10]]+t[i[a+11]]+t[i[a+12]]+t[i[a+13]]+t[i[a+14]]+t[i[a+15]]}(s)}},5873:(z,p,e)=>{e.d(p,{AUS:()=>B,CDT:()=>t,EKF:()=>m,GvW:()=>f,dco:()=>H,pXZ:()=>L});const t="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 176v160M336 256H176' class='ionicon-fill-none ionicon-stroke-width'/></svg>",m="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M135.19 390.14a28.79 28.79 0 0021.68 9.86h246.26A29 29 0 00432 371.13V140.87A29 29 0 00403.13 112H156.87a28.84 28.84 0 00-21.67 9.84v0L46.33 256l88.86 134.11z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M336.67 192.33L206.66 322.34M336.67 322.34L206.66 192.33M336.67 192.33L206.66 322.34M336.67 322.34L206.66 192.33' class='ionicon-fill-none ionicon-stroke-width'/></svg>",B="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm108.25 138.29l-134.4 160a16 16 0 01-12 5.71h-.27a16 16 0 01-11.89-5.3l-57.6-64a16 16 0 1123.78-21.4l45.29 50.32 122.59-145.91a16 16 0 0124.5 20.58z'/></svg>",L="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 221.25V416a48 48 0 01-48 48H144a48 48 0 01-48-48V96a48 48 0 0148-48h98.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 56v120a32 32 0 0032 32h120M176 288h160M176 368h160' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",H="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M296 64h-80a7.91 7.91 0 00-8 8v24h96V72a7.91 7.91 0 00-8-8z' class='ionicon-fill-none'/><path d='M432 96h-96V72a40 40 0 00-40-40h-80a40 40 0 00-40 40v24H80a16 16 0 000 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 000-32zM192.57 416H192a16 16 0 01-16-15.43l-8-224a16 16 0 1132-1.14l8 224A16 16 0 01192.57 416zM272 400a16 16 0 01-32 0V176a16 16 0 0132 0zm32-304h-96V72a7.91 7.91 0 018-8h80a7.91 7.91 0 018 8zm32 304.57A16 16 0 01320 416h-.58A16 16 0 01304 399.43l8-224a16 16 0 1132 1.14z'/></svg>"}}]);